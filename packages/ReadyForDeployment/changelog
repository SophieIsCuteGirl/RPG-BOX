added inventory and probably fixed a few bugs.

will update this changelog later
